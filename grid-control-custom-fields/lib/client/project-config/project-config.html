<template name="custom_fields_conf">
  <div class="custom-fields-conf">
    <div class="config-section-header">
      <div class="config-section-title">
        Custom Fields
        {{#if showCustomFieldsSortOption}}
        <div class="sort-custom-fields text-primary" sort-criteria="label">Sort by Name</div>
        {{/if}}
      </div>
      <div class="dropdown add-new-field-dropdown">
        <div class="add-new-field-toggle text-primary" data-toggle="dropdown" aria-expanded="false">
          <svg class="jd-icon"><use xlink:href="/layout/icons-feather-sprite.svg#plus"/></svg>
          New custom field
        </div>
        <div class="dropdown-menu jd-p-075 animate slideIn shadow-lg border-0">
          <div class="d-flex align-items-center">
            <input class="new-field-label form-control form-control-sm" placeholder="label" maxlength="30">
            <select class="new-field-type form-control form-control-sm mx-2">
              {{#each getFieldTypes}}
                <option value="{{custom_field_type_id}}">{{label}}</option>
              {{/each}}
            </select>
            <button class="add btn btn-primary btn-sm" disabled="{{addButtonDisabled}}">ADD</button>
          </div>
        </div>
      </div>
    </div>
    {{#with customFields}}
      {{#each this}}
        {{> custom_field_conf}}
      {{/each}}
    {{/with}}
  </div>
</template>


<template name="custom_field_conf">
  <div class="custom-field-item custom-field-row" field-id="{{field_id}}">
    <div class="custom-field-handle">
      <svg class="jd-icon"><use xlink:href="/layout/icons-feather-sprite.svg#more-vertical-double"/></svg>
    </div>
    <div class="custom-field-label flex-grow-1">
      <input class="field-label" placeholder="label" value="{{label}}" maxlength="30">
    </div>
    <div class="custom-field-type">
      {{#if settingsButtonTemplate}}
        {{> UI.dynamic template=settingsButtonTemplate}}
        <div class="custom-field-type-divider"></div>
      {{/if}}
      <span class="custom-field-type-label">{{fieldTypeToFieldLabel}}</span>
      <div class="custom-field-type-divider"></div>
      <svg class="jd-icon remove"><use xlink:href="/layout/icons-feather-sprite.svg#x"/></svg>
    </div>
  </div>
</template>

@import "{justdoinc:justdo-chat}/lib/ui/common-components/vars.scss"

.message-editor-wrapper
  display: flex
  align-items: center
  border-top: $parts-separator-border
  &.disabled
    pointer-events: none
  .drop-pane
    position: absolute
    left: 0
    top: 0
    width: 100%
    height: 100%
    // By default, don't block interactions
    pointer-events: none
    // Only activate when actually dragging
    &.dragging
      pointer-events: auto
    .drop-pane-overlay
      pointer-events: none
      position: absolute
      left: 0
      top: 0
      width: 100%
      height: 100%
      background-color: rgba(255, 255, 255, 0.95)
      display: none
      align-items: center
      justify-content: center
    &.dragging
      .drop-pane-overlay
        display: flex
  .files-wrapper
    position: relative
    cursor: pointer
    display: flex
    align-items: center
    .attach-files
      width: 16px
      height: 16px
      transform: rotate(-45deg) scale(1)
      stroke-width: 2
      padding: 0
    .files-count
      background-color: #c7181f
      position: absolute
      top: -9px
      right: 7px
      color: #ffffff
      font-weight: bold
      font-size: 10px
      border: 1px solid #ffffff
      border-radius: 6px
      text-align: center
      padding: 0px 3px
      transform: rotate(0deg) scale(1)
      transition: all 0.32s
    .message-editor-file-input
      display: none
  .files-wrapper:hover
    .attach-files
      transform: rotate(-35deg) scale(1.05)
    .files-count
      transform: rotate(0deg) scale(0.9)

  .message-editor-send
    font-weight: 600
    cursor: default
    transition: opacity 0.12s
    opacity: 0.5
    word-break: keep-all
    &.show
      opacity: 1
      cursor: pointer

.jdc-basic-design
  .message-editor
    width: 100%
    border: none
    height: 42px
    padding: 10px 12px 10px 0px
    resize: none
    outline: none
    text-align: left
    overflow: auto
    &::placeholder
      color: #A9B1C3

.chat-editor-files-dropdown
  border-radius: 4px
  background-color: white
  z-index: 150
  max-height: 250px
  width: 360px
  overflow: auto
  padding: 4px
  &> div
    display: flex
    flex-direction: column
    gap: 4px
    .dropdown-item
      padding: 2px 8px 2px 2px
      display: flex
      align-items: center
      justify-content: space-between
      user-select: none
      .dropdown-item-content
        display: flex
        align-items: center
        flex-grow: 1
        .sort-handle
          cursor: grab
          .jd-icon
            padding: 3px
            color: #B0B8C2
            width: 20px

        .type-logo
          min-width: 24px
          height: 32px
          background-image: url(/packages/justdoinc_tasks-file-manager-plugin/media/icons.png)
          background-position: -58px 0px
          transform: scale(0.7)
          margin-left: -4px
          margin-right: 2px
          &.jpeg
            background-position: -82px 0px
          &.vnd_ms-excel
            background-position: -130px 0px
          &.png
            background-position: -226px 0px
          &.pdf
            background-position: -250px 0px
          &.javascript
            background-position: -346px 0px
          &.html
            background-position: -370px 0px
          &.msword
            background-position: -442px 0px
          &.mp4, &.mpeg, &.webm, &.quicktime, &.x-msvideo, &.x-ms-wmv
            background-position: -274px 0px

        .file-name
          white-space: nowrap
          text-overflow: ellipsis
          overflow: hidden
          width: 220px
          font-size: 13px
      .file-size-and-remove
        display: flex
        align-items: center
        gap: 4px
        .file-size
          font-size: 10px
        .remove-file
          cursor: pointer
          .jd-icon
            width: 20px
            height: 20px
            color: #B0B8C2
            stroke-width: 2px
            &:hover
              color: #76869a
              background-color: #e8edf3

// RTL modification
.right-to-left
  .jdc-basic-design
    .message-editor
      text-align: right
      padding: 10px 0px 10px 12px
  .files-wrapper
    .files-count
      right: unset
      left: 7px
  .chat-editor-files-dropdown
    .dropdown-item
      padding: 2px 2px 2px 8px
      .file-name
        text-align: right
      .type-logo
        margin-left: 2px !important
        margin-right: -4px !important

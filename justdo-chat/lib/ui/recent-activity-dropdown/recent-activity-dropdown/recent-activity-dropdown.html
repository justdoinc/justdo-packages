<template name="recent_activity_dropdown">
  {{#if isLoading}}
    <div class="loading-recent-activity-items-container">
      <div class="loader">
        <div class="double-bounce1 bg-primary"></div>
        <div class="double-bounce2 bg-primary"></div>
      </div>
    </div>
  {{else}}
    {{#with recentActivityItems}}
      <div class="recent-activity-items-container">
        <div class="recent-activity-items-viewport">
          <div class="recent-activity-items">
            {{#each this}}
              {{> recent_activity_item}}
            {{/each}}

            {{#if $eq getSubscribedChannelsRecentActivityState "all"}}
              <div class="more-items-container">
                <span class="no-more-items text-muted">{{_ "chat_dropdown_no_more_messages"}}</span>
              </div>
            {{else}}
              <div class="more-items-container">
                <a href="#" class="load-more-items">{{_ "chat_dropdown_loading_more_messages"}}</a>
              </div>
            {{/if}}
          </div>
        </div>
        <div class="recent-activity-items-footer">
          <div class="mark-all-activity-read text-primary">{{_ "chat_dropdown_mark_all_as_read"}}</div>
        </div>
      </div>
    {{else}}
      <div class="no-recent-activity-items-container">
        <i class="fa fa-comments" aria-hidden="true"></i>
        <p>{{_ "chat_dropdown_you_have_no_messages"}}</p>
      </div>
    {{/with}}
  {{/if}}
</template>

<template name="recent_activity_item">
  {{#if $eq channel_type "task"}}
    {{> recent_activity_item_task}}
  {{/if}}
  {{#if $eq channel_type "user"}}
    {{> recent_activity_item_user}}
  {{/if}}
  {{#if $eq channel_type "group"}}
    {{> recent_activity_item_group}}
  {{/if}}
</template>

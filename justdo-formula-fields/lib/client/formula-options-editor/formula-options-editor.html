<template name="custom_field_conf_formula_field_editor_opener">
  <div class="fa fa-cog custom-field-formula-field-editor-opener" aria-hidden="true" field-id="{{field_id}}"></div>
</template>

<template name="custom_field_conf_formula_field_editor">
  <div class="editor-caption">
    Edit field formula <div class="open-formula-editor-help" title="Learn how to write a formula"><i class="fa fa-question-circle" aria-hidden="true"></i></div>
  </div>

  <div class="editor-content">
    <input type="text" class="formula-input form-control input-sm" autocomplete="off" placeholder="Enter formula" value="{{getHumanReadableFormula}}" />

    <div class="formula-editor-section">
      Add field to formula:
        <select class="field-to-add-selector">
          {{#each availableFields}}
            <option value="{{label}}">{{label}}</option>
          {{/each}}
        </select>

        <div class="add-field btn btn-xs btn-default">Add</div>
    </div>
  </div>

  <div class="editor-caption">
    Set formula filters
  </div>

  <div class="custom-field-options"></div>

  <div class="add-custom-field-option">
    <div class="option-label"><input type="text" class="new-option-label" placeholder="Add filter" /></div>

    <div class="bg-color-selector">{{> justdo_color_picker_dropdown color_picker_controller=colorPickerDropdownController}}</div>

    <div class="option-begin new"><input class="new-option-begin" type="text" placeholder="Begin" /></div>
    <div class="option-end new"><input class="new-option-end" type="text" placeholder="End" /></div>

    {{#if showAddButton}}
      <div class="add-option"><i class="fa fa-fw fa-check" aria-hidden="true"></i></div>
    {{/if}}
  </div>

  <div role="separator" class="divider"></div>

  <div class="dropdown-filter-controls-container">
    <button type="button" class="btn btn-xs btn-outline-secondary save">Save</button>
    <button type="button" class="btn btn-xs btn-outline-secondary cancel">Cancel</button>
    <div style="clear: both"></div>
  </div>
</template>

<template name="custom_field_conf_formula_field_editor_opener">
  <div class="custom-field-formula-field-editor-opener" aria-hidden="true" field-id="{{field_id}}">
    <svg class="jd-icon" aria-hidden="true" field-id="{{field_id}}"><use xlink:href="/layout/icons-feather-sprite.svg#edit-3"/></svg>
  </div>
</template>

<template name="custom_field_conf_formula_field_editor">
  <div class="editor-caption font-weight-bold text-body text-uppercase">
    Edit field formula <div class="open-formula-editor-help" title="Learn how to write a formula"><i class="fa fa-question-circle" aria-hidden="true"></i></div>
  </div>
  <div class="editor-content my-2">
    <input type="text" class="formula-input form-control form-control-sm" autocomplete="off" placeholder="Enter formula" value="{{getHumanReadableFormula}}" />
    <div class="formula-editor-section">
      <div class="d-flex align-items-center mt-2">
        <select class="field-to-add-selector form-control form-control-sm">
          {{#each availableFields}}
            <option value="{{label}}">{{label}}</option>
          {{/each}}
        </select>
        <div class="add-field btn btn-primary btn-sm text-nowrap">Add field to formula</div>
      </div>
    </div>
  </div>

  {{#if showFiltersSection}}
    <div class="editor-caption font-weight-bold text-body text-uppercase mt-4">Set formula filters</div>
    <div class="custom-field-options"></div>
    <div class="add-custom-field-option d-flex align-items-center py-2 mb-2">
      <input type="text" class="new-option-label form-control form-control-sm" placeholder="Add filter">
      <div class="add-custom-field-dates d-flex">
        <input class="new-option-begin form-control form-control-sm" type="text" placeholder="Begin">
        <input class="new-option-end form-control form-control-sm" type="text" placeholder="End">
      </div>
      <div class="add-custom-field-btn d-flex align-items-center">
        <svg class="jd-icon-custom-field text-primary add-option" aria-hidden="true"><use xlink:href="/layout/icons-feather-sprite.svg#plus"/></svg>
      </div>
    </div>
  {{/if}}
  
  <div class="text-right">
    <button type="button" class="btn btn-primary btn-sm cancel">Cancel</button>
    <button type="button" class="btn btn-primary btn-sm save">Save</button>
  </div>
</template>

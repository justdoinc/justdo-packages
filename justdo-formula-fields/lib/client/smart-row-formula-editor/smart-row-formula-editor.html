<template name="smart_row_formula_editor_opener">
  <div class="smart-row-formula-editor-opener" aria-hidden="true" field-id="{{field_id}}">
    <svg class="jd-icon" aria-hidden="true"><use xlink:href="/layout/icons-feather-sprite.svg#edit-3"/></svg>
  </div>
</template>

<template name="smart_row_formula_editor">
  <div class="smart-row-formula-editor-content">
    <div class="editor-caption font-weight-bold text-body text-uppercase mb-2">{{_ "smart_row_formula_editor_title"}}</div>
    
    <div class="formula-section mb-3">
      <label class="form-label text-muted small">{{_ "smart_row_formula_editor_formula_label"}}</label>
      <div class="d-flex align-items-center">
        <input type="text" class="formula-input form-control form-control-sm text-body" placeholder="{{_ "smart_row_formula_editor_formula_placeholder"}}" value="{{currentFormula}}">
      </div>
      <small class="text-muted">{{_ "smart_row_formula_editor_formula_help"}}</small>
    </div>

    <div class="available-fields-section mb-3">
      <label class="form-label text-muted small">{{_ "smart_row_formula_editor_available_fields_label"}}</label>
      <div class="d-flex align-items-center">
        <select class="field-to-add-selector form-control form-control-sm">
          {{#each availableFields}}
            <option value="{{label}}">{{label}}</option>
          {{/each}}
        </select>
        <button type="button" class="btn btn-sm btn-outline-primary ml-2 add-field">{{_ "smart_row_formula_editor_add_field_button"}}</button>
      </div>
    </div>

    <div class="smart-row-formula-editor-footer d-flex justify-content-end mt-3">
      <button type="button" class="btn btn-outline-secondary btn-sm cancel mr-2">{{_ "cancel"}}</button>
      <button type="button" class="btn btn-primary btn-sm save">{{_ "save"}}</button>
    </div>
  </div>
</template>

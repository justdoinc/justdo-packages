<template name="grid_views_dropdown_menu">
  <div class="grid-views-dropdown-menu-wrapper">
    <div class="grid-views-search-wrapper d-flex align-items-center">
      <input type="text" class="grid-views-search-input form-control form-control-sm" placeholder="Search views">
      <svg class="jd-icon search-icon text-secondary"><use xlink:href="/layout/icons-feather-sprite.svg#search"></use></svg>
    </div>
    <div class="dropdown-items-wrapper">
      {{#if gridViews}}
        {{#each gridViews}}
          <div class="dropdown-item grid-view-item px-1" tabindex="0">
            <svg class="jd-icon-dropdown text-secondary"><use xlink:href="/layout/icons-feather-sprite.svg#jd-views"></use></svg>
            {{#if showRenameInput}}
              <div class="dropdown-item-rename">
                <input class="dropdown-item-rename-input form-control form-control-sm" type="text" placeholder="Type view title" value="{{title}}">
                <div class="dropdown-item-rename-actions">
                  <svg class="dropdown-item-rename-save jd-icon mr-1"><use xlink:href="/layout/icons-feather-sprite.svg#check"></use></svg>
                  <svg class="dropdown-item-rename-cancel jd-icon "><use xlink:href="/layout/icons-feather-sprite.svg#x"></use></svg>
                </div>
              </div>
            {{else}}
              <div class="dropdown-item-label">
                <span>{{title}}</span>
              </div>
              {{#if shared}}
                <div class="dropdown-item-shared">shared</div>
              {{/if}}
            {{/if}}
            {{#if allowedToEdit}}
              <div class="dropdown-item-settings">
                <svg class="jd-icon text-secondary">
                  <use xlink:href="/layout/icons-feather-sprite.svg#more-vertical"></use>
                </svg>
              </div>
            {{/if}}
          </div>
        {{/each}}
      {{else}}
        <div class="grid-views-empty text-muted">
          No views
        </div>
      {{/if}}
    </div>
    <div class="dropdown-footer">
      <hr>
      <button class="btn btn-primary btn-sm grid-views-add" type="button">add current view</button>
    </div>
    {{#with activeView}}
      <div class="grid-view-settings-dropdown shadow-lg animate slideIn shadow-lg">
        <div class="grid-view-rename dropdown-item px-1">
          <svg class="jd-icon-dropdown text-dark"><use xlink:href="/layout/icons-feather-sprite.svg#edit-3"></use></svg>
          <div class="dropdown-item-label">Rename</div>
        </div>
        {{#if isProjectAdmin}}
          <div class="grid-view-share dropdown-item px-1">
            <svg class="jd-icon-dropdown text-dark"><use xlink:href="/layout/icons-feather-sprite.svg#share"></use></svg>
            <div class="dropdown-item-label">{{#if this.shared}}Unshare{{else}}Share{{/if}}</div>
          </div>
        {{/if}}
        <div class="grid-view-update dropdown-item px-1">
          <svg class="jd-icon-dropdown text-dark"><use xlink:href="/layout/icons-feather-sprite.svg#refresh-cw"></use></svg>
          <div class="dropdown-item-label">Update</div>
        </div>
        <div class="grid-view-delete dropdown-item px-1">
          <svg class="jd-icon-dropdown text-dark"><use xlink:href="/layout/icons-feather-sprite.svg#trash"></use></svg>
          <div class="dropdown-item-label">Remove</div>
        </div>
      </div>
    {{/with}}
  </div>
</template>

<template name="justdo_projects_dashboard">
  <div class="justdo-projects-dashboard">
    <div class="main-part">
      <table>
        <tr>
          <td class="main-part-left-column">
            <div class="big-picture-data">
              <div class="title">Projects</div>
              <div class="data">{{numberOfProjects}}</div>
              <div class="units"></div>
            </div>
            <div class="big-picture-data">
              <div class="title">Tasks</div>
              <div class="data">{{totalNumberOfTasks}}</div>
              <div class="units"></div>
            </div>
          </td>
          <td class="main-part-charts-column">
            <table class="main-part-charts-column-table">
              <td class="chart-td">
                <div id="justdo-projects-dashboard-chart-1"></div>
              </td>
              <td class="chart-td">
                <div id="justdo-projects-dashboard-chart-2"></div>
              </td>
              <td class="chart-td">
                <div id="justdo-projects-dashboard-chart-3"></div>
              </td>
            </table>
          </td>
        </tr>
      </table>

    </div>
    <div class="projects-table">
      <table border="1px">
        <tr>
          <th>Project</th>
          <th>Owner</th>
          <th>Start</th>
          <th>End</th>
          <th># of subtasks</th>
          {{#each tableFieldsOfInterestTitles}}
            <th>
              {{this}}
            </th>
          {{/each}}
        </tr>
        {{#each activeProjects}}
          {{>justdo_projects_dashboard_project_line}}
        {{/each}}
      </table>
    </div>
  </div>
</template>


<template name="justdo_projects_dashboard_project_line">
  <tr>
    <td>
      {{this.title}}
    </td>
    <td>
      {{ownerName}}
    </td>
    <td>
      {{formatDate start_date}}
    </td>
    <td>
      {{formatDate end_date}}
    </td>
    <td>
      {{numberOfSubtasks}}
    </td>
    {{#each columnsData}}
      <td>
        {{this.count}}
      </td>
    {{/each}}

  </tr>
</template>
<template name="required_action_card_transfer_request">
  <div class="card-with-avatar {{#if $eq getState "pre-reject"}}flex-column{{/if}}">
    <div class="card-with-avatar-content">
      <div class="card-avatar">
        {{#with currentOwnerDoc}}
          {{> justdo_avatar}}
        {{/with}}
      </div>
      <div class="card-details">
        {{{xssGuard(_ "transfer_request_card_transfer_request" user=currentOwnerDisplayname task_url=taskURL project_name=getActionProjectTitle seqId=seqId task_title=(cutString title 80))}}}
      </div>
    </div>

    {{#if $eq getState "pre-reject"}}
      {{> required_action_card_transfer_request_input}}
    {{/if}}

    <div class="action-buttons">
      {{#if $eq getState "pre-reject"}}
        <div class="card-actions d-flex justify-content-end">
          <button type="button" class="reject btn btn-sm btn-danger">{{_ "send"}}</button>
          <button type="button" class="cancel-reject btn btn-sm btn-primary">{{_ "cancel"}}</button>
        </div>
        {{#if showShortcutCue}}
          <div class="keyboard-shortcut-cue text-{{getRtlAwareDirection "right"}} mt-1 text-muted">{{_ "transfer_request_card_submit_shortcut"}}</div>
        {{/if}}
      {{else}}
        <div class="card-actions d-flex justify-content-end">
          <button type="button" class="pre-reject btn btn-sm btn-danger">{{_ "reject"}}</button>
          <button type="button" class="accept btn btn-sm btn-primary">{{_ "accept"}}</button>
        </div>
      {{/if}}
    </div>
  </div>

</template>

<template name="required_action_card_transfer_request_input">
  <div class="reject-message-input-container my-2 form-group">
    <textarea type="text" class="form-control form-control-sm reject-message-input" placeholder="{{_ "transfer_request_card_leave_a_reject_message"}}"></textarea>
  </div>
</template>

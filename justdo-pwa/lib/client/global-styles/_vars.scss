@import "{justdoinc:justdo-webapp-layout}/lib/client/global-sass/global-vars.sass";

// Bootstrap-compatible breakpoint values
$breakpoint-xs: 0;
$breakpoint-sm: 576px;
$breakpoint-md: 768px;
$breakpoint-lg: 992px;
$breakpoint-xl: 1200px;

$safe-area-inset-top: env(safe-area-inset-top);
$safe-area-inset-bottom: env(safe-area-inset-bottom);
$safe-area-inset-left: env(safe-area-inset-left);
$safe-area-inset-right: env(safe-area-inset-right);

$safe-area-inset-top-plus-navbar-height: calc(#{$safe-area-inset-top} + #{$navbar-height});

// PWA-specific mobile breakpoint
$mobile-breakpoint: $breakpoint-md;

$mobile-navbar-height: 74px;
// This is the padding used by mobile navbar.
// Use of this value prevents elements shown at the bottom of the screen from being cut off by the rounded corners of the device.
$mobile-horizontal-safety-padding: 30px;

// Mixins for responsive design
@mixin mobile {
  @media (max-width: #{$mobile-breakpoint - 1px}) {
    @content;
  }
}

$mobile-tab-vertical-padding: 12px;
$mobile-tab-horizontal-padding: 20px;

$mobile-tab-title-padding: $mobile-tab-vertical-padding $mobile-tab-horizontal-padding 0 $mobile-tab-horizontal-padding;
$mobile-tab-content-padding: 0 $mobile-tab-horizontal-padding $mobile-tab-vertical-padding $mobile-tab-horizontal-padding;

$mobile-tab-title-margin-bottom: 4px;
$mobile-tab-title-line-height: 1.5em;

// Since mobile-tab is fixed position, we need to calculate the max-height of the content based on the viewport height.
$mobile-tab-content-max-height: calc(100dvh - #{$navbar-height} - #{$mobile-navbar-height} - #{$mobile-tab-vertical-padding} - #{$mobile-tab-title-line-height} - #{$mobile-tab-title-margin-bottom} - #{$safe-area-inset-top});

// Mixin for scrollable containers that prevents layout shift and rubber-banding
@mixin scrollable-container($max-height: $mobile-tab-content-max-height) {
  max-height: $max-height;
  overflow: auto;
  // The following prevents layout shift when the scrollbar becomes visible.
  scrollbar-gutter: stable;
}
$list-title-height: 40px

.quick-notes-dropdown
  z-index: 150

.slick-cell.quick-note-droppable-cell
  z-index: 102
  box-shadow: 0 0 0 8px white
  border-radius: 1px
  border-right-color: transparent
  &:after
    content: ""
    position: absolute
    width: auto
    height: auto
    bottom: -5px
    top: -5px
    left: 12px
    right: -6px
    border-radius: 5px
    background-color: rgba(10, 133, 212, 0.08)
    border: 2px dashed rgba(8, 133, 212, 0.5)

.quick-notes-dropdown-content
  .quick-notes-wrapper
    display: flex
    flex-direction: column
    height: 460px
    width: 320px

  .quick-notes-list-title
    margin: 0px 16px
    color: black
    display: flex
    justify-content: space-between
    align-items: center
    flex-basis: $list-title-height
    flex-grow: 0
    flex-shrink: 0
    .jd-icon
      padding: 0px
      color: #848fa1
    .quick-notes-completed-toggle
      width: 18px
      height: 20px
    .quick-notes-completed-dropdown
      height: 20px
      width: 14px
      display: flex
      align-items: center
      margin-left: 4px
      position: relative
      user-select: none
      .quick-notes-completed-dropdown-menu
        position: absolute
        top: 8px
        right: 0
        padding: 8px
        z-index: 11
        display: none
        &.open
          display: block
      .quick-notes-completed-delete
        white-space: nowrap
        padding: 4px 8px
        &:hover
          background-color: #f8f9fa
    .quick-notes-completed-more
      width: 14px
      height: 20px

  .quick-notes-list
    display: flex
    flex-direction: column
    padding-bottom: 16px
    &.active
      flex-grow: 1
      overflow: auto
    &.completed
      overflow: auto
      flex-grow: 1

  .quick-notes-list-empty
    height: 100%
    display: flex
    align-items: center
    justify-content: center
    color: rgba(49, 69, 99, 0.25)

  .quick-notes-completed-wrapper
    display: flex
    flex-direction: column
    flex-grow: 0
    flex-shrink: 0
    flex-basis: $list-title-height
    overflow: hidden
    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.08)
    transition: flex-basis 0.3s cubic-bezier(0.25, 0.1, 0.25, 1)
    &.show
      flex-basis: 240px
      overflow: auto
      box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.12)
      .quick-notes-list-title
        border-bottom: 1px solid #ced4da

    .quick-notes-list-title
      cursor: pointer

  .quick-note
    display: flex
    align-items: start
    padding: 8px 20px
    cursor: pointer
    transition: box-shadow 0.25s
    position: relative
    &::after
      content: ""
      position: absolute
      width: auto
      left: 20px
      right: 20px
      border-bottom: 1px dashed rgba(0, 0, 0, 0.1)
      bottom: 0
    &:last-child::after
      border: none
    &:hover
      background-color: #f8f9fa
      .quick-note-highlighter
        opacity: 0.5
      .quick-note-delete
        opacity: 0.5
    &.mouse-down
      cursor: grabbing
    &.active
      background-color: #f8f9fa
      .quick-note-highlighter
        opacity: 1
      .quick-note-delete
        opacity: 0.5
    &.ui-draggable-dragging
      background-color: white
      box-shadow: 0 0 0 2px #0a85d4, 0 1rem 3rem rgba(0, 0, 0, 0.18)
      border-radius: 2px
      border: none
      opacity: 0.75
      z-index: 10
      .quick-note-mark,
      .quick-note-highlighter,
      .quick-note-delete
        opacity: 0
    &.ui-droppable-hover:not(.ui-draggable-dragging)
      box-shadow: 0px 2px 0px 0px #848fa1
      &::after
        border: none

  .quick-note-highlighter
    position: absolute
    height: 100%
    top: 0
    bottom: 0
    width: 3px
    left: 0px
    transition: opacity 0.25s
    opacity: 0

  .quick-note-zero
    height: 4px
    display: flex
    flex-shrink: 0
    &.ui-droppable-hover
      box-shadow: 0px 2px 0px 0px #848fa1

  .quick-note.done
    .quick-note-title
      color: #3D495B
      text-decoration: line-through
    .quick-note-mark
      .quick-note-mark-check
        opacity: 0.5
      &:hover
        .quick-note-mark-check
          opacity: 1
      &:active
        .quick-note-mark-check


  .quick-note-mark
    display: flex
    height: 22px
    width: 18px
    align-items: center
    position: relative
    flex-shrink: 0
    cursor: pointer
    transition: transform 0.25s
    transform: scale(1)
    &:active
      transform: scale(0.8)
    .jd-icon
      position: absolute
      width: 18px
      height: 18px
      padding: 0px
      stroke-width: 2.5
      background-color: white
      border-radius: 100%
      z-index: 3
      &.quick-note-mark-check
        color: #08c116
        opacity: 0
      &.quick-note-mark-circle
        color: #848fa1
    .circular
      height: 18px
      width: 18px
      position: relative
      display: none
      .circle-bg
        width: 14px
        height: 14px
        background-color: white
        border-radius: 100%
        position: absolute
        top: 2px
        left: 2px
        z-index: 2
      .quick-note-bar
        position: absolute
        height: 100%
        width: 100%
        background: white
        clip: rect(0px, 18px, 18px, 9px)
        border-radius: 100%
      .quick-note-progress
        position: absolute
        height: 100%
        width: 100%
        border-radius: 100%
        clip: rect(0px, 9px, 18px, 0px)
        background: #08c116

      .circle .right
        transform: rotate(180deg)
        z-index: 1

      .circle .left .quick-note-progress
        z-index: 1
        animation: animate-check-circle 0.16s linear both

      .circle .right .quick-note-progress
        animation: animate-check-circle 0.16s linear both
        animation-delay: 0.12s

      @keyframes animate-check-circle
        100%
          transform: rotate(180deg)

  .quick-note-mark:hover
    .quick-note-mark-check
      opacity: 1
    .quick-note-mark-circle
      opacity: 0

  .quick-note
    &.switching
      .quick-note-mark
        .circular
          display: block
        .quick-note-mark-circle
          opacity: 0
        .quick-note-mark-check
          opacity: 0 !important
    &.completed
      text-decoration: line-through
      .quick-note-mark
        .quick-note-mark-check
          opacity: 1
        .quick-note-mark-circle
          opacity: 0

  .quick-note-add-wrapper
    position: relative
    display: flex

  .quick-note-add-btn
    position: absolute
    right: 20px
    bottom: 9px
    font-weight: 600
    cursor: pointer
    opacity: 0
    pointer-events: none
    transition: opacity 0.25s
    &.show
      opacity: 0.75
      pointer-events: auto
    &.show:hover
      opacity: 1

  .quick-note-add
    border-top: none
    border-left: none
    border-right: none
    margin: 0px 20px
    width: 100%
    height: auto
    padding: 16px 40px 8px 0px
    border-radius: 0px
    &:focus
      outline: none

  .quick-note-title
    flex-grow: 1
    margin: 0px 8px
    word-wrap: break-word
    overflow: hidden
    &:focus
      outline: none

  .quick-note-delete
    width: 16px
    height: 22px
    padding: 0
    stroke-width: 3
    display: flex
    flex-basis: 16px
    flex-shrink: 0
    transition: all 0.25s
    opacity: 0
    cursor: pointer
    transform: scale(1)
    &:hover
      opacity: 1 !important
    &:active
      transform: scale(0.8)
